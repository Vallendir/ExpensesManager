buildscript {
    ext {
        /** Spring **/
        springBootVersion = '2.1.0.RELEASE'
        springLoadedVersion = '1.2.8.RELEASE'
        
        /** Mockito **/
        mockitoCoreVersion = '2.23.0'
        
        /** JUnit **/
        junitVersion = '5.3.1'
        
        /** AssertJ **/
        assertjVersion = '3.11.1'
        
        /** Javax **/
        javaxValidationVersion = '2.0.1.Final'
        javaxAnnotationVersion = '1.3.2'
        javaxPersistenceVersion = '1.0.2'
        
        /** Bytebuddy **/
        bytebuddyVersion = '1.9.3'
        
        /** Lombok **/
        lombokVersion = '1.18.4'
        
        /** Swagger **/
        swaggerVersion = '2.9.2'
        benjaminsprouleVersion = '1.0.0'
        
        /** Apache commons **/
        apacheCommons3Version = '3.8.1'
        
        /** Slf4j **/
        slf4jVersion = '1.7.25'
        
        /** Model mapper **/
        modelMapperVersion = '2.3.2'
        
        /** Jackson **/
        jacksonVersion = '2.9.0'
    }

    repositories {
        mavenCentral()
        maven {
            url 'https://plugins.gradle.org/m2/'
        }
    }

    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
        classpath("org.springframework:springloaded:$springLoadedVersion")
        classpath("gradle.plugin.com.benjaminsproule:swagger-gradle-plugin:$benjaminsprouleVersion")
    }
}

allprojects {
    version = project.property('projectVersion')
}

subprojects {
    apply plugin: 'java-library'
    apply plugin: 'idea'
    apply plugin: 'eclipse'
    apply plugin: 'io.spring.dependency-management'
    apply plugin: 'com.benjaminsproule.swagger'

    repositories {
        mavenCentral()
        mavenLocal()
    }

    dependencies {
        /** Lombok **/
        implementation "org.projectlombok:lombok:$lombokVersion"
        
        /** JUnit **/
        testCompileOnly "org.junit.jupiter:junit-jupiter-api:$junitVersion"
        testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:$junitVersion"
        
        /** AssertJ **/
        testCompileOnly "org.assertj:assertj-core:$assertjVersion"
        
        /** Mockito **/
        testImplementation("org.mockito:mockito-core:$mockitoCoreVersion") {
            exclude group: "net.bytebuddy", module: "byte-buddy"
            exclude group: "net.bytebuddy", module: "byte-buddy-agent"
            exclude group: "org.junit.platform", module: "junit-platform-commons"
        }
        testImplementation("org.mockito:mockito-junit-jupiter:$mockitoCoreVersion") {
            exclude group: "net.bytebuddy", module: "byte-buddy"
            exclude group: "net.bytebuddy", module: "byte-buddy-agent"
            exclude group: "org.junit.platform", module: "junit-platform-commons"
        }
        
        /** Slf4j **/
        testImplementation "org.slf4j:slf4j-simple:$slf4jVersion"
        implementation "org.slf4j:slf4j-api:$slf4jVersion"

        /** Apache commons **/
        implementation("org.apache.commons:commons-lang3:$apacheCommons3Version")
    }

    sourceCompatibility = JavaVersion.VERSION_1_10
    targetCompatibility = JavaVersion.VERSION_1_10
}